# EduNexus高校端 - 后端接口文档

## 基础信息

- **基础URL**: `https://api.edunexus.com/university`
- **API版本**: `v1`
- **数据格式**: JSON
- **字符编码**: UTF-8

## 认证方式

所有接口（除登录、注册外）需要在请求头中携带Token：

```
Authorization: Bearer {token}
```

---

## 1. 认证模块

### 1.1 高校登录

**接口地址**: `POST /university/auth/login`

**请求参数**:
```json
{
  "username": "string",  // 用户名或邮箱
  "password": "string"    // 密码
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expires_in": 7200,
    "university": {
      "id": 1,
      "university_name": "清华大学",
      "username": "tsinghua",
      "email": "admin@tsinghua.edu.cn"
    }
  }
}
```

---

### 1.2 高校注册

**接口地址**: `POST /university/auth/register`

**请求参数**:
```json
{
  "university_name": "string",  // 高校名称
  "username": "string",         // 用户名（3-20个字符）
  "email": "string",            // 高校邮箱
  "phone": "string",            // 联系电话（11位手机号）
  "password": "string"          // 密码（至少8位）
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "注册成功",
  "data": {
    "id": 1,
    "university_name": "清华大学",
    "username": "tsinghua"
  }
}
```

---

### 1.3 退出登录

**接口地址**: `POST /university/auth/logout`

**响应示例**:
```json
{
  "code": 200,
  "message": "退出成功"
}
```

---

### 1.4 获取当前用户信息

**接口地址**: `GET /university/auth/me`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "university_name": "清华大学",
    "username": "tsinghua",
    "email": "admin@tsinghua.edu.cn",
    "phone": "010-62770000",
    "status": 1
  }
}
```

---

## 2. 数据看板模块

### 2.1 获取统计数据

**接口地址**: `GET /university/dashboard/stats`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "course_slice_count": 128,      // 课程切片数
    "pending_proposal_count": 15,   // 待审批提案数
    "feedback_count": 342,          // 教学反馈数
    "cooperation_count": 28         // 合作企业数
  }
}
```

---

### 2.2 获取课程切片统计

**接口地址**: `GET /university/dashboard/course-slice-stats`

**请求参数**:
- `period` (string, 可选): 时间周期，month-按月，week-按周，默认month
- `months` (int, 可选): 查询月数，默认6

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "labels": ["Java", "Python", "前端", "数据库", "算法", "其他"],
    "values": [32, 28, 24, 18, 15, 11]
  }
}
```

---

### 2.3 获取提案审批状态统计

**接口地址**: `GET /university/dashboard/proposal-stats`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "pending": 8,      // 待审批
    "approved": 5,     // 已通过
    "rejected": 2      // 已拒绝
  }
}
```

---

### 2.4 获取教学反馈趋势

**接口地址**: `GET /university/dashboard/feedback-trend`

**请求参数**:
- `period` (string, 可选): 时间周期，month-按月，week-按周，默认month
- `months` (int, 可选): 查询月数，默认6

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "labels": ["1月", "2月", "3月", "4月", "5月", "6月"],
    "values": [120, 132, 101, 134, 90, 230]
  }
}
```

---

### 2.5 获取校企合作统计

**接口地址**: `GET /university/dashboard/cooperation-stats`

**响应示例**:
```json
{
  "code": 200,
  "data": [
    { "industry": "互联网", "count": 12 },
    { "industry": "金融", "count": 8 },
    { "industry": "制造业", "count": 5 },
    { "industry": "教育", "count": 2 },
    { "industry": "其他", "count": 1 }
  ]
}
```

---

### 2.6 获取最近活动

**接口地址**: `GET /university/dashboard/activities`

**请求参数**:
- `page` (int, 可选): 页码，默认1
- `size` (int, 可选): 每页数量，默认10

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "title": "新增课程切片",
        "content": "《Java程序设计》课程已创建5个技能切片",
        "time": "2024-01-15 10:30"
      }
    ],
    "total": 10
  }
}
```

---

## 3. 课程切片与技能映射模块（审批）

### 3.1 获取课程切片列表（待审批）

**接口地址**: `GET /university/course-slice/list`

**请求参数**:
- `keyword` (string, 可选): 课程名称关键词
- `status` (string, 可选): 审批状态：pending-待审批，approved-已通过，rejected-已拒绝
- `category` (string, 可选): 课程分类
- `page` (int, 可选): 页码，默认1
- `size` (int, 可选): 每页数量，默认10

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "course_name": "Java程序设计",
        "category": "编程语言",
        "slice_count": 8,
        "skill_count": 15,
        "proposer": "张教授",
        "submit_time": "2024-01-15 10:30:00",
        "status": "pending",
        "approver": null,
        "approval_time": null
      }
    ],
    "total": 20,
    "page": 1,
    "size": 10
  }
}
```

---

### 3.2 获取课程切片详情

**接口地址**: `GET /university/course-slice/{id}`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "course_name": "Java程序设计",
    "category": "编程语言",
    "description": "Java程序设计基础课程，涵盖Java语言基础、面向对象编程、集合框架等内容。",
    "proposer": "张教授",
    "submit_time": "2024-01-15 10:30:00",
    "status": "pending",
    "approver": null,
    "approval_time": null,
    "slices": [
      {
        "id": 1,
        "name": "Java基础语法",
        "skills": [
          { "id": 1, "name": "Java基础", "code": "java-basic" },
          { "id": 2, "name": "面向对象编程", "code": "oop" }
        ]
      },
      {
        "id": 2,
        "name": "集合框架",
        "skills": [
          { "id": 3, "name": "数据结构与算法", "code": "data-structure" }
        ]
      }
    ]
  }
}
```

---

### 3.3 审批课程切片

**接口地址**: `POST /university/course-slice/{id}/approve`

**请求参数**:
```json
{
  "result": "approved",        // 审批结果：approved-通过，rejected-拒绝
  "comment": "string"          // 审批意见，必填
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "审批成功",
  "data": {
    "id": 1,
    "status": "approved",
    "approver": "当前用户",
    "approval_time": "2024-01-16 09:15:00"
  }
}
```

---

## 4. 企业项目合作模块

### 4.1 获取提案列表

**接口地址**: `GET /university/proposal/list`

**请求参数**:
- `keyword` (string, 可选): 提案标题关键词
- `status` (string, 可选): 审批状态：pending-待审批，approved-已通过，rejected-已拒绝
- `type` (string, 可选): 提案类型：course-共建课程，major-专业共建
- `page` (int, 可选): 页码，默认1
- `size` (int, 可选): 每页数量，默认10

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "title": "人工智能专业共建提案",
        "type": "major",
        "proposer": "张教授",
        "proposal_time": "2024-01-10 14:30:00",
        "status": "pending",
        "approver": null,
        "approval_time": null
      }
    ],
    "total": 15,
    "page": 1,
    "size": 10
  }
}
```

---

### 4.2 获取提案详情

**接口地址**: `GET /university/proposal/{id}`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "title": "人工智能专业共建提案",
    "type": "major",
    "proposer": "张教授",
    "proposal_time": "2024-01-10 14:30:00",
    "status": "pending",
    "approver": null,
    "approval_time": null,
    "content": "为适应人工智能产业发展需求，建议与企业合作共建人工智能专业，培养符合行业需求的高素质人才...",
    "attachments": [
      {
        "id": 1,
        "name": "提案文档.pdf",
        "url": "https://example.com/files/proposal.pdf",
        "size": 1024000
      }
    ]
  }
}
```

---

### 4.3 审批提案

**接口地址**: `POST /university/proposal/{id}/approve`

**请求参数**:
```json
{
  "result": "approved",        // 审批结果：approved-通过，rejected-拒绝
  "comment": "string"          // 审批意见，必填
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "审批成功",
  "data": {
    "id": 1,
    "status": "approved",
    "approver": "当前用户",
    "approval_time": "2024-01-12 16:45:00"
  }
}
```

---

## 5. 教学评价模块

### 5.1 获取教学反馈列表

**接口地址**: `GET /university/teaching-feedback/list`

**请求参数**:
- `course_id` (int, 可选): 课程ID
- `course_name` (string, 可选): 课程名称关键词
- `type` (string, 可选): 反馈类型：course-课程评价，suggestion-教学建议，issue-问题反馈
- `start_date` (string, 可选): 开始日期，格式：YYYY-MM-DD
- `end_date` (string, 可选): 结束日期，格式：YYYY-MM-DD
- `page` (int, 可选): 页码，默认1
- `size` (int, 可选): 每页数量，默认10

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "course_id": 1,
        "course_name": "Java程序设计",
        "student_id": 101,
        "student_name": "张三",
        "type": "course",
        "score": 5,
        "content": "课程内容很丰富，老师讲解清晰，实践项目很有帮助。",
        "feedback_time": "2024-01-15 10:30:00"
      }
    ],
    "total": 342,
    "page": 1,
    "size": 10
  }
}
```

---

### 5.2 获取教学反馈统计

**接口地址**: `GET /university/teaching-feedback/stats`

**请求参数**:
- `course_id` (int, 可选): 课程ID
- `start_date` (string, 可选): 开始日期
- `end_date` (string, 可选): 结束日期

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "total_count": 342,           // 总反馈数
    "average_score": 4.6,         // 平均评分
    "course_evaluation_count": 256,  // 课程评价数
    "student_count": 128          // 参与学生数
  }
}
```

---

### 5.3 获取教学反馈趋势

**接口地址**: `GET /university/teaching-feedback/trend`

**请求参数**:
- `course_id` (int, 可选): 课程ID
- `period` (string, 可选): 时间周期，month-按月，week-按周，默认month
- `months` (int, 可选): 查询月数，默认6

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "score_trend": {
      "labels": ["1月", "2月", "3月", "4月", "5月", "6月"],
      "values": [4.2, 4.5, 4.3, 4.7, 4.6, 4.8]
    },
    "type_distribution": [
      { "name": "课程评价", "value": 256 },
      { "name": "教学建议", "value": 62 },
      { "name": "问题反馈", "value": 24 }
    ],
    "satisfaction_comparison": [
      { "course": "Java", "score": 4.8 },
      { "course": "Python", "score": 4.6 },
      { "course": "Vue.js", "score": 4.7 }
    ]
  }
}
```

---

### 5.4 获取教学反馈详情

**接口地址**: `GET /university/teaching-feedback/{id}`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "course_id": 1,
    "course_name": "Java程序设计",
    "student_id": 101,
    "student_name": "张三",
    "type": "course",
    "score": 5,
    "content": "课程内容很丰富，老师讲解清晰，实践项目很有帮助。",
    "feedback_time": "2024-01-15 10:30:00"
  }
}
```

---

## 6. 校企合作管理模块

### 6.1 获取校企合作列表

**接口地址**: `GET /university/cooperation/list`

**请求参数**:
- `keyword` (string, 可选): 企业名称关键词
- `status` (string, 可选): 合作状态：ongoing-进行中，completed-已完成，terminated-已终止
- `type` (string, 可选): 合作类型：project-项目实训，course-课程共建，talent-人才培养
- `page` (int, 可选): 页码，默认1
- `size` (int, 可选): 每页数量，默认10

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "enterprise_id": 1,
        "enterprise_name": "XX科技有限公司",
        "type": "project",
        "project_name": "Java企业级开发实训",
        "start_time": "2024-01-01",
        "end_time": "2024-06-30",
        "status": "ongoing",
        "student_count": 45,
        "contact": "张经理",
        "phone": "13800138000"
      }
    ],
    "total": 28,
    "page": 1,
    "size": 10
  }
}
```

---

### 6.2 获取校企合作详情

**接口地址**: `GET /university/cooperation/{id}`

**响应示例**:
```json
{
  "code": 200,
  "data": {
    "id": 1,
    "enterprise_id": 1,
    "enterprise_name": "XX科技有限公司",
    "type": "project",
    "project_name": "Java企业级开发实训",
    "description": "与企业合作开展Java企业级开发实训项目，学生参与真实项目开发...",
    "start_time": "2024-01-01",
    "end_time": "2024-06-30",
    "status": "ongoing",
    "student_count": 45,
    "contact": "张经理",
    "phone": "13800138000",
    "create_time": "2023-12-15 10:30:00",
    "update_time": "2024-01-10 14:20:00"
  }
}
```

---

### 6.3 创建校企合作

**接口地址**: `POST /university/cooperation/create`

**请求参数**:
```json
{
  "enterprise_id": 1,           // 企业ID，必填
  "enterprise_name": "string",  // 企业名称，必填
  "type": "string",             // 合作类型，必填：project-项目实训，course-课程共建，talent-人才培养
  "project_name": "string",     // 合作项目名称，必填
  "description": "string",     // 项目描述，可选
  "start_time": "string",       // 开始时间，必填，格式：YYYY-MM-DD
  "end_time": "string",        // 结束时间，必填，格式：YYYY-MM-DD
  "status": "string",          // 合作状态，必填：ongoing-进行中，completed-已完成，terminated-已终止
  "student_count": 0,          // 参与学生数，可选
  "contact": "string",        // 联系人，可选
  "phone": "string"           // 联系电话，可选
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "创建成功",
  "data": {
    "id": 1
  }
}
```

---

### 6.4 更新校企合作

**接口地址**: `PUT /university/cooperation/{id}/update`

**请求参数**: 同创建接口（所有字段可选）

**响应示例**:
```json
{
  "code": 200,
  "message": "更新成功"
}
```

---

### 6.5 删除校企合作

**接口地址**: `DELETE /university/cooperation/{id}/delete`

**响应示例**:
```json
{
  "code": 200,
  "message": "删除成功"
}
```

---

## 7. 通用接口

### 7.1 获取企业列表

**接口地址**: `GET /university/common/enterprises`

**请求参数**:
- `keyword` (string, 可选): 企业名称关键词

**响应示例**:
```json
{
  "code": 200,
  "data": [
    { "id": 1, "name": "XX科技有限公司" },
    { "id": 2, "name": "YY互联网公司" }
  ]
}
```

---

### 7.2 获取技能列表

**接口地址**: `GET /university/common/skills`

**请求参数**:
- `keyword` (string, 可选): 技能名称关键词

**响应示例**:
```json
{
  "code": 200,
  "data": [
    { "id": 1, "name": "Java基础", "code": "java-basic" },
    { "id": 2, "name": "面向对象编程", "code": "oop" },
    { "id": 3, "name": "数据结构与算法", "code": "data-structure" }
  ]
}
```

---

### 7.3 获取课程分类列表

**接口地址**: `GET /university/common/course-categories`

**响应示例**:
```json
{
  "code": 200,
  "data": [
    { "value": "编程语言", "label": "编程语言" },
    { "value": "数据库", "label": "数据库" },
    { "value": "前端开发", "label": "前端开发" },
    { "value": "后端开发", "label": "后端开发" }
  ]
}
```

---

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 200 | 请求成功 |
| 400 | 请求参数错误 |
| 401 | 未授权，需要登录 |
| 403 | 无权限访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

---

## 响应格式说明

所有接口统一返回格式：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

**错误响应示例**:
```json
{
  "code": 400,
  "message": "请求参数错误",
  "errors": {
    "username": ["用户名不能为空"],
    "password": ["密码长度至少8位"]
  }
}
```

---

# EduNexus高校端 - 数据库表结构设计

## 1. 高校用户表 (universities)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 高校ID，自增 |
| university_name | VARCHAR | 200 | 否 | 否 | 高校名称 |
| username | VARCHAR | 50 | 否 | 否 | 用户名，唯一 |
| email | VARCHAR | 100 | 否 | 否 | 高校邮箱，唯一 |
| phone | VARCHAR | 20 | 否 | 否 | 联系电话 |
| password | VARCHAR | 255 | 否 | 否 | 密码（加密存储） |
| status | TINYINT | - | 否 | 否 | 状态：0-禁用，1-启用 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- UNIQUE KEY uk_username (username)
- UNIQUE KEY uk_email (email)

---

## 2. 课程切片申请表 (course_slice_applications)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 申请ID，自增 |
| course_name | VARCHAR | 200 | 否 | 否 | 课程名称 |
| category | VARCHAR | 50 | 否 | 否 | 课程分类 |
| description | TEXT | - | 否 | 是 | 课程描述 |
| proposer | VARCHAR | 50 | 否 | 否 | 提交人 |
| submit_time | DATETIME | - | 否 | 否 | 提交时间 |
| status | VARCHAR | 20 | 否 | 否 | 审批状态：pending-待审批，approved-已通过，rejected-已拒绝 |
| approver | VARCHAR | 50 | 否 | 是 | 审批人 |
| approval_time | DATETIME | - | 否 | 是 | 审批时间 |
| approval_comment | TEXT | - | 否 | 是 | 审批意见 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_status (status)
- KEY idx_category (category)
- KEY idx_submit_time (submit_time)

---

## 3. 课程切片表 (course_slices)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 切片ID，自增 |
| application_id | BIGINT | - | 否 | 否 | 申请ID，外键关联course_slice_applications.id |
| name | VARCHAR | 200 | 否 | 否 | 切片名称 |
| sort_order | INT | - | 否 | 否 | 排序顺序 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_application_id (application_id)

---

## 4. 切片技能关联表 (slice_skills)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| slice_id | BIGINT | - | 否 | 否 | 切片ID，外键关联course_slices.id |
| skill_id | BIGINT | - | 否 | 否 | 技能ID，外键关联skills.id |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_slice_id (slice_id)
- KEY idx_skill_id (skill_id)
- UNIQUE KEY uk_slice_skill (slice_id, skill_id)

---

## 5. 提案表 (proposals)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 提案ID，自增 |
| title | VARCHAR | 200 | 否 | 否 | 提案标题 |
| type | VARCHAR | 20 | 否 | 否 | 提案类型：course-共建课程，major-专业共建 |
| proposer | VARCHAR | 50 | 否 | 否 | 提案人 |
| proposal_time | DATETIME | - | 否 | 否 | 提案时间 |
| content | TEXT | - | 否 | 是 | 提案内容 |
| status | VARCHAR | 20 | 否 | 否 | 审批状态：pending-待审批，approved-已通过，rejected-已拒绝 |
| approver | VARCHAR | 50 | 否 | 是 | 审批人 |
| approval_time | DATETIME | - | 否 | 是 | 审批时间 |
| approval_comment | TEXT | - | 否 | 是 | 审批意见 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_status (status)
- KEY idx_type (type)
- KEY idx_proposal_time (proposal_time)

---

## 6. 提案附件表 (proposal_attachments)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 附件ID，自增 |
| proposal_id | BIGINT | - | 否 | 否 | 提案ID，外键关联proposals.id |
| name | VARCHAR | 200 | 否 | 否 | 附件名称 |
| url | VARCHAR | 500 | 否 | 否 | 附件URL |
| size | BIGINT | - | 否 | 否 | 文件大小（字节） |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_proposal_id (proposal_id)

---

## 7. 教学反馈表 (teaching_feedback)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 反馈ID，自增 |
| course_id | BIGINT | - | 否 | 否 | 课程ID，外键关联courses.id |
| course_name | VARCHAR | 200 | 否 | 否 | 课程名称 |
| student_id | BIGINT | - | 否 | 否 | 学生ID |
| student_name | VARCHAR | 50 | 否 | 否 | 学生姓名 |
| type | VARCHAR | 20 | 否 | 否 | 反馈类型：course-课程评价，suggestion-教学建议，issue-问题反馈 |
| score | DECIMAL | 3,1 | 否 | 是 | 评分（0-5分） |
| content | TEXT | - | 否 | 否 | 反馈内容 |
| feedback_time | DATETIME | - | 否 | 否 | 反馈时间 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_course_id (course_id)
- KEY idx_student_id (student_id)
- KEY idx_type (type)
- KEY idx_feedback_time (feedback_time)

---

## 8. 校企合作表 (university_cooperations)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 合作ID，自增 |
| university_id | BIGINT | - | 否 | 否 | 高校ID，外键关联universities.id |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| enterprise_name | VARCHAR | 200 | 否 | 否 | 企业名称 |
| type | VARCHAR | 20 | 否 | 否 | 合作类型：project-项目实训，course-课程共建，talent-人才培养 |
| project_name | VARCHAR | 200 | 否 | 否 | 合作项目名称 |
| description | TEXT | - | 否 | 是 | 项目描述 |
| start_time | DATE | - | 否 | 否 | 开始时间 |
| end_time | DATE | - | 否 | 否 | 结束时间 |
| status | VARCHAR | 20 | 否 | 否 | 合作状态：ongoing-进行中，completed-已完成，terminated-已终止 |
| student_count | INT | - | 否 | 否 | 参与学生数，默认0 |
| contact | VARCHAR | 50 | 否 | 是 | 联系人 |
| phone | VARCHAR | 20 | 否 | 是 | 联系电话 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_university_id (university_id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_status (status)
- KEY idx_type (type)

---

## 9. 技能表 (skills)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 技能ID，自增 |
| name | VARCHAR | 100 | 否 | 否 | 技能名称 |
| code | VARCHAR | 50 | 否 | 否 | 技能代码，唯一 |
| category | VARCHAR | 50 | 否 | 是 | 技能分类 |
| description | TEXT | - | 否 | 是 | 技能描述 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- UNIQUE KEY uk_code (code)
- KEY idx_category (category)

---

## 10. 课程表 (courses)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 课程ID，自增 |
| name | VARCHAR | 200 | 否 | 否 | 课程名称 |
| school | VARCHAR | 100 | 否 | 否 | 所属学校 |
| teacher | VARCHAR | 50 | 否 | 否 | 授课教师 |
| duration | INT | - | 否 | 否 | 课时数 |
| description | TEXT | - | 否 | 是 | 课程描述 |
| status | TINYINT | - | 否 | 否 | 状态：0-下架，1-上架 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_school (school)
- KEY idx_status (status)

---

## 11. 活动日志表 (activity_logs)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 日志ID，自增 |
| university_id | BIGINT | - | 否 | 否 | 高校ID，外键关联universities.id |
| title | VARCHAR | 200 | 否 | 否 | 活动标题 |
| content | TEXT | - | 否 | 是 | 活动内容 |
| type | VARCHAR | 20 | 否 | 否 | 活动类型：course_slice-课程切片，proposal-提案，feedback-教学反馈，cooperation-校企合作 |
| related_id | BIGINT | - | 否 | 是 | 关联ID |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_university_id (university_id)
- KEY idx_type (type)
- KEY idx_created_at (created_at)

---

## 表关系说明

1. **universities** (高校用户表) 是核心表，其他业务表都通过 `university_id` 关联
2. **course_slice_applications** (课程切片申请表) 与 **course_slices** (课程切片) 是一对多关系
3. **course_slices** (课程切片) 与 **slice_skills** (切片技能关联) 是一对多关系
4. **slice_skills** (切片技能关联) 关联 **skills** (技能表)
5. **proposals** (提案表) 与 **proposal_attachments** (提案附件) 是一对多关系
6. **teaching_feedback** (教学反馈) 关联 **courses** (课程表)
7. **university_cooperations** (校企合作) 关联 **universities** (高校) 和 **enterprises** (企业)
8. **activity_logs** (活动日志) 记录所有业务操作，用于数据看板展示

---

## 数据库设计说明

### 1. 课程切片审批流程
- 教师提交课程切片申请（course_slice_applications）
- 申请包含多个切片（course_slices）
- 每个切片关联多个技能（slice_skills）
- 高校管理员审批申请，更新状态和审批信息

### 2. 提案审批流程
- 教师提交提案（proposals）
- 提案可包含多个附件（proposal_attachments）
- 高校管理员审批提案，更新状态和审批信息

### 3. 教学反馈数据
- 学生提交教学反馈（teaching_feedback）
- 反馈关联课程（courses）
- 支持按课程、时间、类型等维度统计和分析

### 4. 校企合作管理
- 高校与企业建立合作关系（university_cooperations）
- 记录合作类型、项目信息、学生参与情况等

### 5. 活动日志
- 记录所有业务操作（activity_logs）
- 用于数据看板展示最近活动
- 支持按类型和时间查询

---

## 注意事项

1. 所有时间字段统一使用 DATETIME 类型，格式：YYYY-MM-DD HH:mm:ss
2. 所有日期字段使用 DATE 类型，格式：YYYY-MM-DD
3. 状态字段使用 VARCHAR 类型，便于扩展
4. 文本内容较长的字段使用 TEXT 类型
5. 所有表都包含 created_at 和 updated_at 字段，便于审计和追踪
6. 外键关联建议在应用层维护，数据库层面可选择性添加外键约束
7. 索引设计考虑了常用查询场景，可根据实际使用情况调整

