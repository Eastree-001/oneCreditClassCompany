# EduNexus企业端 - 数据库表结构设计

## 1. 企业用户表 (enterprises)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 企业ID，自增 |
| company_name | VARCHAR | 200 | 否 | 否 | 企业名称 |
| username | VARCHAR | 50 | 否 | 否 | 用户名，唯一 |
| email | VARCHAR | 100 | 否 | 否 | 企业邮箱，唯一 |
| phone | VARCHAR | 20 | 否 | 否 | 联系电话 |
| password | VARCHAR | 255 | 否 | 否 | 密码（加密存储） |
| status | TINYINT | - | 否 | 否 | 状态：0-禁用，1-启用 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- UNIQUE KEY uk_username (username)
- UNIQUE KEY uk_email (email)

---

## 2. 岗位技能画像表 (skill_profiles)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 画像ID，自增 |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| name | VARCHAR | 100 | 否 | 否 | 岗位名称 |
| type | VARCHAR | 20 | 否 | 否 | 岗位类型：tech-技术类，design-设计类，product-产品类，operation-运营类 |
| description | TEXT | - | 否 | 是 | 岗位描述 |
| experience | VARCHAR | 50 | 否 | 是 | 经验要求 |
| education | VARCHAR | 20 | 否 | 是 | 学历要求：college-大专，bachelor-本科，master-硕士，doctor-博士 |
| match_count | INT | - | 否 | 否 | 匹配课程数，默认0 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_type (type)

---

## 3. 岗位技能关联表 (profile_skills)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| profile_id | BIGINT | - | 否 | 否 | 画像ID，外键关联skill_profiles.id |
| skill_name | VARCHAR | 100 | 否 | 否 | 技能名称 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_profile_id (profile_id)
- UNIQUE KEY uk_profile_skill (profile_id, skill_name)

---

## 4. 课程表 (courses)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 课程ID，自增 |
| name | VARCHAR | 200 | 否 | 否 | 课程名称 |
| school | VARCHAR | 100 | 否 | 否 | 所属学校 |
| teacher | VARCHAR | 50 | 否 | 否 | 授课教师 |
| duration | INT | - | 否 | 否 | 课时数 |
| description | TEXT | - | 否 | 是 | 课程描述 |
| status | TINYINT | - | 否 | 否 | 状态：0-下架，1-上架 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_school (school)
- KEY idx_status (status)

---

## 5. 课程技能关联表 (course_skills)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| course_id | BIGINT | - | 否 | 否 | 课程ID，外键关联courses.id |
| skill_name | VARCHAR | 100 | 否 | 否 | 技能名称 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_course_id (course_id)
- UNIQUE KEY uk_course_skill (course_id, skill_name)

---

## 6. 课程匹配结果表 (course_matches)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 匹配ID，自增 |
| profile_id | BIGINT | - | 否 | 否 | 画像ID，外键关联skill_profiles.id |
| course_id | BIGINT | - | 否 | 否 | 课程ID，外键关联courses.id |
| match_score | DECIMAL | 5,2 | 否 | 否 | 匹配度（0-100） |
| matched_skills | TEXT | - | 否 | 是 | 匹配的技能列表（JSON格式） |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_profile_id (profile_id)
- KEY idx_course_id (course_id)
- KEY idx_match_score (match_score)
- UNIQUE KEY uk_profile_course (profile_id, course_id)

---

## 7. 人才需求表 (talent_demands)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 需求ID，自增 |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| title | VARCHAR | 200 | 否 | 否 | 需求标题 |
| position | VARCHAR | 100 | 否 | 否 | 岗位名称 |
| count | INT | - | 否 | 否 | 需求人数 |
| location | VARCHAR | 100 | 否 | 否 | 工作地点 |
| description | TEXT | - | 否 | 是 | 岗位描述 |
| education | VARCHAR | 20 | 否 | 是 | 学历要求 |
| salary | VARCHAR | 50 | 否 | 是 | 薪资范围 |
| deadline | DATE | - | 否 | 是 | 截止日期 |
| applicants | INT | - | 否 | 否 | 申请人数，默认0 |
| status | VARCHAR | 20 | 否 | 否 | 状态：pending-待审核，published-已发布，closed-已关闭 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_status (status)

---

## 8. 人才需求技能关联表 (demand_skills)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| demand_id | BIGINT | - | 否 | 否 | 需求ID，外键关联talent_demands.id |
| skill_name | VARCHAR | 100 | 否 | 否 | 技能名称 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_demand_id (demand_id)
- UNIQUE KEY uk_demand_skill (demand_id, skill_name)

---

## 9. 人才需求高校关联表 (demand_schools)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| demand_id | BIGINT | - | 否 | 否 | 需求ID，外键关联talent_demands.id |
| school_name | VARCHAR | 100 | 否 | 否 | 高校名称 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_demand_id (demand_id)
- UNIQUE KEY uk_demand_school (demand_id, school_name)

---

## 10. 合作项目表 (cooperation_projects)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 项目ID，自增 |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| name | VARCHAR | 200 | 否 | 否 | 项目名称 |
| school | VARCHAR | 100 | 否 | 否 | 合作高校 |
| type | VARCHAR | 20 | 否 | 否 | 项目类型：talent-人才培养，course-课程共建，internship-实习基地，research-科研合作 |
| students | INT | - | 否 | 否 | 预计参与学生数 |
| description | TEXT | - | 否 | 是 | 项目描述 |
| goals | TEXT | - | 否 | 是 | 项目目标 |
| start_time | DATE | - | 否 | 否 | 开始时间 |
| end_time | DATE | - | 否 | 否 | 结束时间 |
| progress | INT | - | 否 | 否 | 项目进度（0-100），默认0 |
| status | VARCHAR | 20 | 否 | 否 | 项目状态：ongoing-进行中，completed-已完成，paused-已暂停 |
| contact | VARCHAR | 50 | 否 | 是 | 联系人 |
| phone | VARCHAR | 20 | 否 | 是 | 联系电话 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_status (status)
- KEY idx_school (school)

---

## 11. 培训课程表 (training_plans)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 计划ID，自增 |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| name | VARCHAR | 200 | 否 | 否 | 计划名称 |
| type | VARCHAR | 20 | 否 | 否 | 计划类型：onboarding-新员工入职培训，skill-技能提升培训，position-岗位专项培训 |
| participants | INT | - | 否 | 否 | 参与人数 |
| duration | VARCHAR | 50 | 否 | 否 | 培训周期 |
| description | TEXT | - | 否 | 是 | 计划描述 |
| start_time | DATE | - | 否 | 否 | 开始时间 |
| end_time | DATE | - | 否 | 否 | 结束时间 |
| progress | INT | - | 否 | 否 | 完成进度（0-100），默认0 |
| status | VARCHAR | 20 | 否 | 否 | 计划状态：pending-待开始，ongoing-进行中，completed-已完成 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |
| updated_at | DATETIME | - | 否 | 是 | 更新时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_status (status)

---

## 12. 培训课程课程关联表 (plan_courses)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 关联ID，自增 |
| plan_id | BIGINT | - | 否 | 否 | 计划ID，外键关联training_plans.id |
| course_id | BIGINT | - | 否 | 否 | 课程ID，外键关联courses.id |
| sort_order | INT | - | 否 | 否 | 排序顺序 |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_plan_id (plan_id)
- KEY idx_course_id (course_id)
- UNIQUE KEY uk_plan_course (plan_id, course_id)

---

## 13. 活动日志表 (activity_logs)

| 字段名 | 类型 | 长度 | 是否主键 | 是否为空 | 说明 |
|--------|------|------|---------|---------|------|
| id | BIGINT | - | 是 | 否 | 日志ID，自增 |
| enterprise_id | BIGINT | - | 否 | 否 | 企业ID，外键关联enterprises.id |
| title | VARCHAR | 200 | 否 | 否 | 活动标题 |
| content | TEXT | - | 否 | 是 | 活动内容 |
| type | VARCHAR | 20 | 否 | 否 | 活动类型：profile-岗位画像，match-课程匹配，demand-人才需求，project-合作项目，plan-培训课程 |
| related_id | BIGINT | - | 否 | 是 | 关联ID |
| created_at | DATETIME | - | 否 | 否 | 创建时间 |

**索引：**
- PRIMARY KEY (id)
- KEY idx_enterprise_id (enterprise_id)
- KEY idx_type (type)
- KEY idx_created_at (created_at)

---

## 表关系说明

1. **enterprises** (企业用户表) 是核心表，其他业务表都通过 `enterprise_id` 关联
2. **skill_profiles** (岗位画像) 与 **profile_skills** (技能关联) 是一对多关系
3. **courses** (课程) 与 **course_skills** (课程技能) 是一对多关系
4. **course_matches** (匹配结果) 关联 **skill_profiles** 和 **courses**
5. **talent_demands** (人才需求) 与 **demand_skills**、**demand_schools** 是一对多关系
6. **training_plans** (培训课程) 与 **plan_courses** 是一对多关系，**plan_courses** 关联 **courses**
7. **activity_logs** (活动日志) 记录所有业务操作，用于数据看板展示

